import{d as l}from"./dayjs.min.116b46e0.js";import{e as f,_ as h,f as d,h as v,r as g,o as _,a as Y,b as o,d as i,F as E}from"./index.427f4fa2.js";import"./_commonjsHelpers.4e997714.js";const b="https://danielsuesun-backend.azurewebsites.net/api/";class C{getMargenBruto(e){return f.get(`${b}dashboard/get-margen-bruto/${e}`)}getPromedioInventario(e){return f.get(`${b}dashboard/get-inventario-promedio/${e}`)}getTopTres(e){return f.get(`${b}dashboard/get-top-tres/${e}`)}getVendidosPorcentaje(e){return f.get(`${b}dashboard/get-vendidos-porcentaje/${e}`)}}const G={name:"DashboardMain",setup(){const u=d(),e=d(),p=d(),r=d(),c=new C,m=d("month"),s=d(l().format("YYYY")),n=()=>{document.getElementById("fecha").blur(),c.getMargenBruto(l(s.value).format("YYYY")).then(({data:t})=>{const a=u.value.chart;a.data.datasets[0].data=t,a.update()}),c.getPromedioInventario(l(s.value).format("YYYY")).then(({data:t})=>{const a=e.value.chart;a.data.datasets[0].data=t.arrayResult,a.data.labels=t.arrayLabels,a.update()}),c.getTopTres(l(s.value).format("YYYY")).then(({data:t})=>{const a=p.value.chart;a.data.datasets=t,a.update()}),c.getVendidosPorcentaje(l(s.value).format("YYYY")).then(({data:t})=>{const a=r.value.chart;a.data.datasets[0].data=t.porcentajeIndividual,a.data.labels=t.labels,a.update()})};return v(()=>{n()}),{date:s,dateType:m,search:n,refPrimerGrafico:u,refSegundoGrafico:e,refTercerGrafico:p,refCuartoGrafico:r,primerGrafico:{labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"% Margen Bruto",backgroundColor:"#42A5F5",data:[]}]},segundoGrafico:{labels:[],datasets:[{label:"Inventario promedio",backgroundColor:["#3E6B72","#19C76B","#1ECCD4","#E557E0","#6FE4B9","#5E0A10","#53D42E"],data:[]}]},tercerGrafico:{labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},cuartoGrafico:{labels:[],datasets:[{data:[],backgroundColor:["#3E6B72","#19C76B","#1ECCD4","#E557E0","#6FE4B9","#5E0A10","#53D42E"]}]}}}},y={class:"flex gap-4 p-4"},x={class:"flex flex-col gap-4 p-4"},B={class:"flex gap-4"},w={class:"box w-1/2 p-4"},D={class:"box w-1/2 p-4"},M={class:"flex gap-4"},F={class:"box w-1/2 p-4"},A={class:"box w-1/2 p-4"};function S(u,e,p,r,c,m){const s=g("Calendar"),n=g("Chart");return _(),Y(E,null,[o("div",y,[i(s,{"input-id":"fecha",modelValue:r.date,"onUpdate:modelValue":e[0]||(e[0]=t=>r.date=t),view:"year",dateFormat:"yy",onDateSelect:e[1]||(e[1]=t=>r.search())},null,8,["modelValue"])]),o("div",x,[o("div",B,[o("div",w,[i(n,{ref:"refPrimerGrafico",type:"line",data:r.primerGrafico,class:"w-full"},null,8,["data"])]),o("div",D,[i(n,{ref:"refSegundoGrafico",type:"bar",data:r.segundoGrafico,class:"w-full"},null,8,["data"])])]),o("div",M,[o("div",F,[i(n,{ref:"refTercerGrafico",type:"line",data:r.tercerGrafico,class:"w-full"},null,8,["data"])]),o("div",A,[i(n,{ref:"refCuartoGrafico",type:"pie",data:r.cuartoGrafico,class:"w-full"},null,8,["data"])])])])],64)}const P=h(G,[["render",S]]);export{P as default};
